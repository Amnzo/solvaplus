{% load custom_filters %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <style>
        /* Define custom styles */
        .custom-container {
            max-width: 1200px;
            margin: 0 auto;
        }

    

        .text-container p {
            margin-bottom: 0;
        }

        .custom-table-header th {
            font-size: 14px; /* Adjust the font size as needed */
        }

        .table {
            border-collapse: collapse;
            width: 100%;
        }

        .table {
            border-collapse: collapse;
            width: 100%;
        }

        .table th, .table td {
            border: 1px solid #dddddd;
            text-align: left;
           
            padding: 8px;
        }

        .thead-dark {
            background-color: #343a40;
            color: white;
        }

       
        

        .cadre {
            border: 2px solid black; /* Define border properties */
            padding: 10px; /* Add padding around the content */
        }
        .custom-table td[style*="width: 13%;"] {
            border-top: none;
            border-bottom: none;
        }

        .larger-text {
    font-size: 20px; /* Adjust the font size as needed */
}

.smaller-text {
    font-size: 14px; /* Adjust the font size as needed */
}

body {
    font-family: Arial, sans-serif;
    /* Ajoutez d'autres styles d'impression ici */
}

       
    </style>
</head>
<body><br><br><br>
  
    <div class="center-container">
        <div class="cadre">
            <div class="container custom-container">
                <!-- First row with logo and two text columns -->
              
                <table>
                    <tr>
                        <td style="width: 15%;" >

                            <img src="data:image/png;base64,{{ logo_base64 }}" alt="Company Logo" style="max-width: 100%; height: auto;">
                        </td>
                        <td style="width: 33%; text-align: left;" class="custom-background-color2"> <!-- Set text alignment to left -->
                            <div class="text-container">
                                <span class="larger-text">{{ societe.nom1 }}</span> <br>
                                <span class="smaller-text">{{ societe.nom2 }}</span>
                            </div>
                        </td>
                        <td style="width: 33%;">
                            <!-- Content for the third column -->
                            <table class="table inner-table">
                                <thead class="thead-dark custom-table-header">
                                    <tr>
                                        <br>
                                        <th scope="col">N&ordm; Facture</th>
                                        <th scope="col">DATE</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>{{ num_facture}}</td>
                                        <td>{{ date_facture }}</td>
                                       
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                </table>

                <div class="row ">
                    <div class="col-md-8">
                        <div class="row custom-background-color2">
                            <div class="col-md-6">
                                <div class="text-container">
                                    <p contenteditable="true">{{societe.ligne1}}</p>
                                    <p contenteditable="true">{{societe.ligne2}},</p>
                                    <p contenteditable="true">{{societe.ligne3}},</p>
                                    <p contenteditable="true">{{societe.ligne4}}</p>
                                    <p contenteditable="true">{{societe.ligne5}}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <br/>
                <table class="table custom-table">
                    <tr>
                        <td style="width: 33%;" class="custom-background-color"> 
                            <table class="table inner-table">
                                <thead class="thead-dark custom-table-header">
                                    <tr>
                                        <th scope="col">COMMANDE PAR :</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td style="text-align: center;" >
                                            {{ societe.livre1 }} <br>
                                            {{ societe.livre2 }} <br>
                                            {{ societe.livre3 }} <br>
                                            {{ societe.livre4 }} <br>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                        <td style="width: 13%;" >
                            <!-- Content -->
                           
                        </td>
                        <td style="width: 33%;">
                            <!-- Content -->
                            <table class="table inner-table">
                                <thead class="thead-dark custom-table-header">
                                    <tr><br><br>
                                        <th scope="col">Facturé à</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td style="text-align: center;" >
                                            {{ societe.achteur1 }} <br>
                                            {{ societe.achteur2 }} <br>
                                            {{ societe.achteur3 }} <br>
                                            {{ societe.achteur4 }} <br>
                                            {{ societe.achteur5 }} <br>
                                            {{ societe.achteur6 }} <br>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                </table><br><br>

                
                <div class="row ">
                    <div class="col-md-12">
                        <table class="table">
                            <thead class="thead-dark custom-table-header">
                                <tr>
                                    <th scope="col">Désignation</th>
                                    <th scope="col">Qet</th>
                                    <th scope="col">P.U.tarif</th>
                                    <th scope="col">% Rem </th>
                                    <th scope="col">Montant Remise</th>
                                    <th scope="col">P.U.net Ht </th>
                                    <th scope="col">Facture en EUR</th>
                                    <th scope="col">%TVA</th>
                                    
                                </tr>
                            </thead>
                            <tbody>
                                {% for bon_livraison in bons_livraison %}
                                <tr>
                                    <td>BL N&ordm;: {{bon_livraison.no_bl}} du {{ bon_livraison.date_de_bl  | date:"d-m-Y"}}<br> <br>
                                        Référence porteur: {{bon_livraison.bon_commande.client}} <br><br>
                                        {{bon_livraison.bon_commande.produit_d.designation}} <br>
                                        {{bon_livraison.bon_commande.sphere_d}} ({{bon_livraison.bon_commande.cylindre_d}}) Axe {{bon_livraison.bon_commande.axe_d }}° <br> <br>
                                        {{bon_livraison.bon_commande.produit_g.designation}}  <br>
                                        {{bon_livraison.bon_commande.sphere_g}} ({{bon_livraison.bon_commande.cylindre_g}}) Axe {{bon_livraison.bon_commande.axe_g }}°
                                    </td>
                                    <td><br><br><br>
                                        {{bon_livraison.bon_commande.quatite_d}} <br><br><br>  {{bon_livraison.bon_commande.quatite_g}} 
                                    </td>

                                     <td><br><br><br>
                                        {{bon_livraison.bon_commande.produit_d.prix}} <br><br><br> {{bon_livraison.bon_commande.produit_g.prix}}
                                    </td>
                                    <td></td>
                                    <td></td>
                                    

                                <td><br><br><br>
                                    {{bon_livraison.bon_commande.produit_d.prix}} <br><br><br> {{bon_livraison.bon_commande.produit_g.prix}}
                                </td>
                                <td><br><br><br>
                                    {% with total_price=bon_livraison.bon_commande.produit_d.prix|multiply:bon_livraison.bon_commande.quatite_d %}
                                        {{ total_price }}
                                    {% endwith %}
                                     <br><br><br> 
                                     {% with total_price=bon_livraison.bon_commande.produit_g.prix|multiply:bon_livraison.bon_commande.quatite_g %}
                                        {{ total_price }}
                                    {% endwith %}
                                </td>
                                <td><br><br><br>
                                    %0 <br><br><br> %0
                                </td>
                                
                                    



                                    
                                </tr>
                                {% endfor %}

                            </tbody>
                        </table>
                    </div>
                </div>

                <br><br>
                <div class="row">
                    <div class="col-md-12">
                      
                    </div>
                </div>
                <br><br><br><br><br>

                <table style="width: 80%;">
                    <tr>
                        <td style="width: 33.33%;"></td>
                        <td style="width: 66.67%; text-align: center;">
                            {% if societe.nif %}
                            {{ societe.nif }}
                            {% else %}
                            NIF:B062835052-N&ordm; IVA : ESB068350052
                         
                            {% endif %}
                        
                        </td>
                        
                    </tr>
                </table>
            </div>
        </div>
    </div>
</body>
</html>
