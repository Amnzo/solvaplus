{% extends 'base.html' %}

{% block title %} BL app {% endblock %}

{% block content %}
<style>
/* Modal styles */
.modal {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
}

.modal-content {
    background-color: #fefefe;
    margin: 15% auto; /* 15% from the top and centered */
    padding: 20px;
    border: 1px solid #888;
    width: 80%; /* Could be more or less, depending on screen size */
}

.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
}

.close:hover,
.close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
}



</style>
    <div class="container mt-4">


        <div class="container">
                                {% if messages %}
                            <ul class="message-list">
                            {% for message in messages %}
                                <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                            {% endfor %}
                        </ul>
                    {% endif %}

            <div class="card">
                <div class="card-header" style="background-color: #4CAF50; color: white;">
                    <h2 class="mb-0">LISTE DES FACTURES</h2>
                </div>
                <div class="card-body">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>DATE </th>
                                <th>N&ordm;  FACTURE</th>
                                <th>MOIS CONCERNE</th>
                                <th>Nombre BL </th>
                                <th>ACTION</th>


                            </tr>
                        </thead>
                        <tbody>

                            {% for facture in liste_factures %}
                            <tr>
                                <td>{{facture.displayed_day}}</td>
                                <td>{{ facture.numero_facture }}</td>
                                <td>{{ facture.mois_concerne }} </td>
                                <td>{{ facture.nombre_bons }}</td>

                                <td>


                                    <a href="{% url 'generate_facture' %}?bon_ids={{ facture.bon_ids }}&num_facture={{ facture.numero_facture }}&date_facture={{ facture.mois_concerne }}" class="text-primary"><i class="bi bi-download"></i></a>


                                    <a href="" class="text-danger" ><i class="bi bi-trash"></i></a>
                                    <a href="" class="text-warning"><i class="bi bi-pencil"></i></a>
                                </td>

                            </tr>
                            {% endfor %}




                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block extra_js %}

{% endblock %}

